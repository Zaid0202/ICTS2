<mvc:View
    controllerName="internal.controller.NewRequest"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:u="sap.ui.unified"
>
    <Page
        id="page_id_NewRequest"
        title="NewRequest"
    >
        <content>
            <VBox class="sapUiSmallMargin">
                <form:Form
                    id="mainFormId"
                    editable="true"
                >
                    <form:toolbar>
                        <Toolbar>
                            <Title text="Create New Request" />
                            <ToolbarSpacer />
                        </Toolbar>
                    </form:toolbar>

                    <form:layout>
                        <form:ResponsiveGridLayout
                            labelSpanXL="3"
                            labelSpanL="3"
                            labelSpanM="3"
                            labelSpanS="12"
                            adjustLabelSpan="false"
                            emptySpanXL="4"
                            emptySpanL="4"
                            emptySpanM="4"
                            emptySpanS="0"
                            columnsXL="1"
                            columnsL="1"
                            columnsM="1"
                            singleContainerFullSize="false"
                        />
                    </form:layout>

                    <form:formContainers>
                        <form:FormContainer>
                            <form:formElements>
                                <form:FormElement label="Main Services">
                                    <form:fields>
                                        <Select
                                            selectedKey="{helperModel>/MainServices}"
                                            items="{localData>/MainServices}"
                                            forceSelection='false'
                                            valueState="{IGNErrModel>/MainServices/valueState}"
                                            valueStateText="{IGNErrModel>/MainServices/valueStateText}"
                                            change=".onTaskNameChange"
                                            required="true"
                                        >
                                            <items>
                                                <core:Item
                                                    key="{localData>}"
                                                    text="{localData>}"
                                                />
                                            </items>
                                        </Select>
                                    </form:fields>
                                </form:FormElement>

                                <!-- Add a VBox for spacing -->
                                <!-- Use an empty label to create spacing -->
                                <form:FormElement>
                                    <form:fields>
                                        <Label text="" />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Urgency"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <Select
                                            selectedKey="{IGNModel>/Urgency}"
                                            items="{localData>/Urgency}"
                                            forceSelection='false'
                                            valueState="{IGNErrModel>/Urgency/valueState}"
                                            valueStateText="{IGNErrModel>/Urgency/valueStateText}"
                                            required="true"
                                        >
                                            <items>
                                                <core:Item
                                                    key="{localData>}"
                                                    text="{localData>}"
                                                />
                                            </items>
                                        </Select>
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Communication Type"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <Select
                                            selectedKey="{IGNModel>/CommunicationType}"
                                            items="{localData>/Communicationtype}"
                                            forceSelection='false'
                                            valueState="{IGNErrModel>/CommunicationType/valueState}"
                                            valueStateText="{IGNErrModel>/CommunicationType/valueStateText}"
                                            required="true"
                                        >
                                            <items>
                                                <core:Item
                                                    key="{localData>}"
                                                    text="{localData>}"
                                                />
                                            </items>
                                        </Select>
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Publishing Date"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <DatePicker
                                            id="PublishingDateID"
                                            value="{IGModel>/PublishingDate}"
                                            valueFormat="yyyy-MM-dd"
                                            valueState="{IGNErrModel>/PublishingDate/valueState}"
                                            valueStateText="{IGNErrModel>/PublishingDate/valueStateText}"
                                            required="true"
                                            change="onDateTimeChange"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Reporting Department"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <Select
                                            selectedKey="{IGNModel>/ReportingDepartment}"
                                            items="{localData>/Reportingdepartment}"
                                            forceSelection='false'
                                            valueState="{IGNErrModel>/ReportingDepartment/valueState}"
                                            valueStateText="{IGNErrModel>/ReportingDepartment/valueStateText}"
                                            required="true"
                                        >
                                            <items>
                                                <core:Item
                                                    key="{localData>}"
                                                    text="{localData>}"
                                                />
                                            </items>
                                        </Select>
                                    </form:fields>
                                </form:FormElement>

                                <!-- <form:FormElement
                                    label="Subject"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <Input
                                            value="{IGNModel>/Subject}"
                                            valueState="{IGNErrModel>/Subject/valueState}"
                                            valueStateText="{IGNErrModel>/Subject/valueStateText}"
                                            type="Text"
                                        />
                                    </form:fields>
                                </form:FormElement> -->

                                <form:FormElement
                                    label="Subject"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <TextArea
                                            value="{IGNModel>/Subject}"
                                            rows="1"
                                            width="100%"
                                            placeholder="Enter The Subject..."
                                            valueState="{IGNErrModel>/Subject/valueState}"
                                            valueStateText="{IGNErrModel>/Subject/valueStateText}"
                                            required="true"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Brief"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <TextArea
                                            value="{IGNModel>/Brief}"
                                            rows="4"
                                            width="100%"
                                            placeholder="Enter brief description..."
                                            valueState="{IGNErrModel>/Brief/valueState}"
                                            valueStateText="{IGNErrModel>/Brief/valueStateText}"
                                            required="true"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Design Brief and Description"
                                    visible="{helperModel>/IsIGN}"
                                >
                                    <form:fields>
                                        <TextArea
                                            value="{IGNModel>/DesignBriefAndDescription}"
                                            rows="4"
                                            width="100%"
                                            placeholder="Enter Design Brief and Description..."
                                            valueState="{IGNErrModel>/DesignBriefAndDescription/valueState}"
                                            valueStateText="{IGNErrModel>/DesignBriefAndDescription/valueStateText}"
                                            required="true"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <!-- x=================x=================x -->

                                <form:FormElement
                                    label="Description"
                                    visible="{helperModel>/IsRevisionRequest}"
                                >
                                    <form:fields>
                                        <TextArea
                                            value="{RevisionRequestModel>/Description}"
                                            rows="4"
                                            width="100%"
                                            placeholder="Enter brief description..."
                                            valueState="{RevisionRequestErrModel>/Description/valueState}"
                                            valueStateText="{RevisionRequestErrModel>/Description/valueStateText}"
                                            required="true"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Additional Link"
                                    visible="{helperModel>/IsRevisionRequest}"
                                >
                                    <form:fields>
                                        <TextArea
                                            rows="2"
                                            width="100%"
                                            placeholder="Enter additional links, separated by commas or new lines..."
                                            value="{RevisionRequestModel>/AdditionalLink}"
                                        />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Attachment"
                                    visible="{helperModel>/IsRevisionRequest}"
                                >
                                    <form:fields>
                                        <u:FileUploader
                                            uploadUrl="/sap/opu/odata/SAP/ZBTP_ICTS_SRV_SRV/UploadFileSet"
                                            name="myFile"
                                            sendXHR="true"
                                            useMultipart="false"
                                            change="onFileChange"
                                            valueState="{RevisionRequestErrModel>/Attachment/valueState}"
                                            valueStateText="{RevisionRequestErrModel>/Attachment/valueStateText}"
                                        />
                                        <!-- <Button
                                            text="Download File"
                                            press="onDownloadPress"
                                        /> -->
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement
                                    label="Additional Attachment"
                                    visible="{helperModel>/IsRevisionRequest}"
                                >
                                    <form:fields>
                                        <u:FileUploader
                                            uploadUrl="/sap/opu/odata/SAP/ZBTP_ICTS_SRV_SRV/UploadFileSet"
                                            name="myFile"
                                            sendXHR="true"
                                            useMultipart="false"
                                            change="onFileChange2"
                                        >
                                            <u:layoutData>
                                                <l:GridData span="L5 M5 S5" />
                                            </u:layoutData>
                                        </u:FileUploader>

                                        <!-- <Button
                                            text="Download File"
                                            press="onDownloadPress"
                                        /> -->
                                    </form:fields>
                                </form:FormElement>

                                <!-- Add a VBox for spacing -->
                                <!-- Use an empty label to create spacing -->
                                <form:FormElement>
                                    <form:fields>
                                        <Label text="" />
                                    </form:fields>
                                </form:FormElement>

                                <form:FormElement label="">
                                    <form:fields>
                                        <Button
                                            text="Submit"
                                            type="Emphasized"
                                            visible="{= ${helperModel>/Mode} === 'Create' }"
                                            press="onMainSubmit"
                                        >
                                            <layoutData>
                                                <l:GridData span="L5 M5 S5" />
                                            </layoutData>
                                        </Button>
                                        <Button
                                            text="Update"
                                            type="Emphasized"
                                            visible="{= (${helperModel>/Mode} !== 'Create') || false }"
                                            press="onMainSubmit"
                                        >
                                            <layoutData>
                                                <l:GridData span="L5 M5 S5" />
                                            </layoutData>
                                        </Button>
                                        <Button
                                            text="Reset"
                                            type="Emphasized"
                                            visible="{= (${helperModel>/Mode} !== 'Create') || false }"
                                            press="onCleare"
                                        >
                                            <layoutData>
                                                <l:GridData span="L5 M5 S5" />
                                            </layoutData>
                                        </Button>
                                    </form:fields>
                                </form:FormElement>
                            </form:formElements>
                        </form:FormContainer>
                    </form:formContainers>
                </form:Form>
            </VBox>
            <!-- Footer Section -->
            <!-- <VBox
                    justifyContent="End"
                    class="sapUiSmallMargin"
                >
                    <Button
                        text="Save"
                        press="onSavePress"
                    />
                </VBox> -->
        </content>
    </Page>
</mvc:View>
